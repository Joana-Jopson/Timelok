<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Login Punch Option</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="d-flex flex-column justify-content-center align-items-center vh-100 bg-light">

    <div class="card p-4 shadow-sm" style="min-width: 300px;">
        <h5>Hello, {{ employee_name }}</h5>
        <p>{{ popup_message }}</p>

        <form id="punchForm">
            {% csrf_token %}
            {% for opt in action_options %}
    <button type="button" class="btn btn-primary m-1 action-btn" data-action="{{ opt }}">
        {% if opt == 'in' %}
            Punch In
        {% elif opt == 'out' %}
            Punch Out
        {% elif opt == 'no' %}
            No Punch
        {% else %}
            {{ opt|title }}
        {% endif %}
    </button>
{% endfor %}

        </form>
    </div>

<script>
document.querySelectorAll('.action-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        const action = btn.getAttribute('data-action');
        // Redirect to face recognition page with action param
        window.location.href = "{% url 'verify_face' %}" + "?action=" + action;
    });
});
</script>

</body>
</html>
